---
import Navbar from '../../../layout/Navbar'
import data from '../../../../data.json' assert { type: 'json' }
import { dataCS } from '../../../../utils/storage/data-index'
import type { default_data } from '../../../../utils/interfaces/default-data'
import DefaultCard from '../../../ui/DefaultCard'

const { CS } = data.content
const $dataCS: default_data = dataCS

const { title, description } = data.header
---

<header class='p-4 flex flex-col justify-between gap-4 relative overlay min-h-[100vh]' style={{ gridArea: 'header' }}>
  <Navbar client:only />
  <section class='flex flex-col items-center justify-center gap-4 relative'>
    <h1 class='font-basicaline text-5xl'>{title}</h1>
    <p class='prose prose-lg dark:prose-invert'>{description}</p>
  </section>

  <article class='p-4 my-10 flex flex-col gap-4 relative' style={{ gridArea: 'content' }}>
    <section>
      <h2 class='font-basicaline text-3xl'>
        {CS.title}:
        <span class='capitalize text-primary'>{$dataCS?.data[0]?.season}</span>
      </h2>
      <p class='text-sm text-gray-400'>{CS.description}</p>
    </section>

    <article class='swiper w-full'>
      <section class='swiper-wrapper' id='my-slider'>
        {
          $dataCS?.data?.map((data) => (
            <div class='swiper-slide'>
              <DefaultCard
                client:load
                id={data?.mal_id}
                image={data?.images.webp.large_image_url}
                title={data?.title}
                highlightText={data?.type}
                highlightClass='absolute top-2 right-2 bg-dark-transparent rounded-xl px-4'
              />
            </div>
          ))
        }
      </section>
      <div class='swiper-pagination'></div>
    </article>
  </article>
</header>

<style>
  header {
    padding: 1rem;
    background-image: url('https://i.pinimg.com/originals/62/c4/c8/62c4c8894109a2db88fe82a5fe8c41aa.png');
    background-size: cover;
  }
</style>
